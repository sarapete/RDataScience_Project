<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Sara Peterson" />


<title>Visualizing Puerto Rican Homelessness in Western New York</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}

.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Visualizing Puerto Rican Homelessness in Western New York</h1>
<h4 class="author"><em>Sara Peterson</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Homeless individuals are among the most marginalized populations of society. Homeless populations are further marginalized in data collection and representation. Even efforts specifically intended to record homeless data can inadvertently further marginalize certain groups of homeless individuals; entries with zip codes that were viewed as “incomplete” were taken out of an official 2015 data set used by the Homelessness Alliance of Western New York. This led to migrants from particular places being omitted from data analysis and official reports. Those individuals ignored in official reports includes 46 individuals who moved from Puerto Rico before becoming homeless in Erie County. This project seeks to understand and represent where people are coming from before becoming homeless in Western New York, using R to map the origins of these individuals and visually represents migration as movement along great circle lines. It specifically explores the phenomenon of individuals moving from Puerto Rico before becoming homeless in Western New York.</p>
</div>
<div id="materials-and-methods" class="section level1">
<h1>Materials and methods</h1>
<div id="load-packages" class="section level3">
<h3>Load Packages</h3>
<p>Load any required packages in a code chunk (you may need to install some packages):</p>
<pre class="r"><code>library(zipcode)
library(readr)
library(raster)
library(dplyr)
library(tidyverse)
library(tidycensus)
library(maps)
library(ggmap)
library(USAboundaries)
library(noncensus)
library(tigris)
library(sf)
library(geosphere)
library(RColorBrewer)

knitr::opts_chunk$set(cache=TRUE)  # cache the results for quick compiling</code></pre>
</div>
<div id="load-buffalo-data-set" class="section level3">
<h3>Load Buffalo Data Set</h3>
<p>Read in the anonymized data set provided by the Western New York Homeless Alliance</p>
<pre class="r"><code>Buffalo_Shelter_Data &lt;- read_csv(&quot;~/Desktop/Adam&#39;s Class/*final project/Buffalo Shelter Data (original).csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Zip = col_character(),
##   `FAKE ID` = col_integer(),
##   `Month of Entry` = col_character(),
##   `Days In Program` = col_integer(),
##   `Client Age` = col_integer(),
##   `FAKE HOUSEHOLD ID` = col_number(),
##   `Household Type` = col_character(),
##   Gender = col_character(),
##   Country = col_character(),
##   `Country Abbreviation` = col_character()
## )</code></pre>
<p>Use the zipcode package to clean the zipcodes in the Buffalo Shelter Data CSV. This fixes the entries with “incomplete” zip codes that were thrown out of the data set so that they are useable.</p>
<pre class="r"><code>clean.zipcodes(Buffalo_Shelter_Data)</code></pre>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
</div>
<div id="zip-code-data-frames" class="section level3">
<h3>Zip Code Data Frames</h3>
<p>Use the zipcode package to create two data frames: one with the zipcodes for all of the United States, and other with zipcodes just for Puerto Rico. Rename the column heads so that they can later be more easily joined to the Buffalo Shelter Data.</p>
<pre class="r"><code>data(&quot;zipcode&quot;)
names&lt;-c(&quot;Zip&quot;,&quot;City&quot;,&quot;State&quot;,&quot;Latitude&quot;,&quot;Longitude&quot;)
colnames(zipcode, do.NULL = TRUE, prefix = &quot;col&quot;)</code></pre>
<pre><code>## [1] &quot;zip&quot;       &quot;city&quot;      &quot;state&quot;     &quot;latitude&quot;  &quot;longitude&quot;</code></pre>
<pre class="r"><code>colnames(zipcode)&lt;-names
USdataframe=zipcode
##USdataframe is the data frame with zip codes for all of the United States. You can filter to only have Puerto Rico

PRdataframe&lt;-filter(zipcode,State==&quot;PR&quot;)
head(PRdataframe)</code></pre>
<pre><code>##     Zip      City State Latitude Longitude
## 1 00601  Adjuntas    PR 18.18010 -66.74947
## 2 00602    Aguada    PR 18.36329 -67.18024
## 3 00603 Aguadilla    PR 18.44862 -67.13422
## 4 00604 Aguadilla    PR 18.49899 -67.13699
## 5 00605 Aguadilla    PR 18.46516 -67.14149
## 6 00606   Maricao    PR 18.18215 -66.95880</code></pre>
<pre class="r"><code>##PRdata frame is the data frame with zip codes for just Puerto Rico</code></pre>
</div>
<div id="zip-code-boundaries" class="section level3">
<h3>Zip Code Boundaries</h3>
<p>Use the tigris package to download the physical boundaries for all United States zip codes and convert to sf. Create an sf object for all United States zip codes, then filter to create an sf object for only Puerto Rico zip codes</p>
<pre class="r"><code>#run the following line of code only once to download the boundary data -- it may take awhile
#zips&lt;-zctas(cb = FALSE, starts_with = NULL, year = 2010, state = NULL)
options(tigris_use_cache = TRUE)
USzips&lt;-zctas(cb = FALSE, starts_with = NULL, year = 2010)%&gt;%
  st_as_sf()
##USzips is the sf object with the physical boundaries for all US zip codes

PRzips&lt;-zctas(cb = FALSE, starts_with = NULL, year = 2010, state = &quot;PR&quot;)%&gt;%
  st_as_sf()
##PRzips is the sf object with the physical boundaries for PR zip codes</code></pre>
</div>
<div id="geocoding-buffalo-shelter-data" class="section level3">
<h3>Geocoding Buffalo Shelter Data</h3>
<p>Join the Buffalo Shelter Data and the USdataframe by zip code, then use the sp package to assign coordinates using “Longitude” and “Latitude”. You can now plot the general location of where across the United States homeless people were coming from based on the centroid coordinates of their zip code origin.</p>
<pre class="r"><code>BufDataLL_US&lt;-inner_join(Buffalo_Shelter_Data, USdataframe, by= &quot;Zip&quot;)
coordinates(BufDataLL_US)&lt;-c(&quot;Longitude&quot;,&quot;Latitude&quot;)
#View(BufDataLL_US)</code></pre>
<p>Complete the same process with the PRdata frame: Join the Buffalo Shelter Data and the PRdataframe by zip code, then use the sp package to assign coordinates using “Longitude” and “Latitude”. You can now plot the general location of where within Puerto Rico homeless people were coming from based on the centroid coordinates of their zip code origin.</p>
<pre class="r"><code>BufDataLL&lt;-inner_join(Buffalo_Shelter_Data, PRdataframe, by= &quot;Zip&quot;)
coordinates(BufDataLL)&lt;-c(&quot;Longitude&quot;,&quot;Latitude&quot;)
#View(BufDataLL)
#Plot(BufDataLL)</code></pre>
</div>
<div id="summarizing-the-total-counts-from-each-zip-code" class="section level3">
<h3>Summarizing the total counts from each zip code</h3>
<div id="summarizing-from-origin-in-all-of-the-united-states" class="section level4">
<h4>Summarizing from origin in all of the United States</h4>
<p>Summarize the data by the count of individuals coming from each of the different zip codes in the United States. You will create both centroid points and polygons with counts of individuals coming from each zip code.</p>
<pre class="r"><code>#Join the Buffalo Shelter Data to the US zip code data
count_in_zips_US&lt;-inner_join(Buffalo_Shelter_Data, USzips, by= c(&quot;Zip&quot; = &quot;ZCTA5CE10&quot;))%&gt;%group_by(Zip)%&gt;%summarise(n=n())
#count_in_zips_US

#join the newly created data frame to the USdata frame to get the coodinates of the zip codes
count_in_zips_points_US&lt;-left_join(count_in_zips_US,USdataframe,by= &quot;Zip&quot;)

#set the coordinates for the centroid points
coordinates(count_in_zips_points_US)&lt;-c(&quot;Longitude&quot;,&quot;Latitude&quot;)

#convert to sf
st_as_sf(count_in_zips_points_US)</code></pre>
<pre><code>## Simple feature collection with 416 features and 4 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -158.0354 ymin: 18.09281 xmax: -65.65987 ymax: 48.09714
## epsg (SRID):    NA
## proj4string:    NA
## # A tibble: 416 x 5
##      Zip     n        City State          geometry
##    &lt;chr&gt; &lt;int&gt;       &lt;chr&gt; &lt;chr&gt;  &lt;simple_feature&gt;
##  1 00610     2      Anasco    PR &lt;POINT (-67.1...&gt;
##  2 00676     2        Moca    PR &lt;POINT (-67.0...&gt;
##  3 00683     1  San German    PR &lt;POINT (-67.0...&gt;
##  4 00720     5    Orocovis    PR &lt;POINT (-66.4...&gt;
##  5 00735     3       Ceiba    PR &lt;POINT (-65.6...&gt;
##  6 00771     4 Las Piedras    PR &lt;POINT (-65.8...&gt;
##  7 00772     4       Loiza    PR &lt;POINT (-65.8...&gt;
##  8 00791     6     Humacao    PR &lt;POINT (-65.8...&gt;
##  9 00907     5    San Juan    PR &lt;POINT (-66.0...&gt;
## 10 00924     7    San Juan    PR &lt;POINT (-66.0...&gt;
## # ... with 406 more rows</code></pre>
<pre class="r"><code>#plot(count_in_zips_points_US)


#join the Buffalo Shelter Data to the USzips polygon to create polygons with counts of the number of individuals coming from each zip code
count_in_zips_polygons_US&lt;-inner_join(Buffalo_Shelter_Data, USzips, by= c(&quot;Zip&quot; = &quot;ZCTA5CE10&quot;))%&gt;%st_as_sf()%&gt;%group_by(Zip)%&gt;%summarise(n=n())
#plot(count_in_zips_polygons_US)</code></pre>
</div>
<div id="summarizing-from-origin-only-in-puerto-rico" class="section level4">
<h4>Summarizing from origin only in Puerto Rico</h4>
<p>Summarize the data by the count of individuals coming from each of the different zip codes in Puerto Rico. You will create both centroid points and polygons with counts of individuals coming from each zip code.</p>
<pre class="r"><code>#Join the Buffalo Shelter Data to the Puerto Rico zip code data
count_in_zips&lt;-inner_join(Buffalo_Shelter_Data, PRzips, by= c(&quot;Zip&quot; = &quot;ZCTA5CE10&quot;))%&gt;%group_by(Zip)%&gt;%summarise(n=n())
#count_in_zips

#create count_in_zips_points, which is a left join of the count_in_zips data frame that you just created and the PRdataframe that has the locations of the zip codes
count_in_zips_points&lt;-left_join(count_in_zips,PRdataframe,by= &quot;Zip&quot;)

#set the coordinates
coordinates(count_in_zips_points)&lt;-c(&quot;Longitude&quot;,&quot;Latitude&quot;)
st_as_sf(count_in_zips_points)</code></pre>
<pre><code>## Simple feature collection with 14 features and 4 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -67.13604 ymin: 18.09281 xmax: -65.65987 ymax: 18.45113
## epsg (SRID):    NA
## proj4string:    NA
## # A tibble: 14 x 5
##      Zip     n          City State          geometry
##    &lt;chr&gt; &lt;int&gt;         &lt;chr&gt; &lt;chr&gt;  &lt;simple_feature&gt;
##  1 00610     2        Anasco    PR &lt;POINT (-67.1...&gt;
##  2 00676     2          Moca    PR &lt;POINT (-67.0...&gt;
##  3 00683     1    San German    PR &lt;POINT (-67.0...&gt;
##  4 00720     5      Orocovis    PR &lt;POINT (-66.4...&gt;
##  5 00735     3         Ceiba    PR &lt;POINT (-65.6...&gt;
##  6 00771     4   Las Piedras    PR &lt;POINT (-65.8...&gt;
##  7 00772     4         Loiza    PR &lt;POINT (-65.8...&gt;
##  8 00791     6       Humacao    PR &lt;POINT (-65.8...&gt;
##  9 00907     5      San Juan    PR &lt;POINT (-66.0...&gt;
## 10 00924     7      San Juan    PR &lt;POINT (-66.0...&gt;
## 11 00926     1      San Juan    PR &lt;POINT (-66.0...&gt;
## 12 00962     2        Catano    PR &lt;POINT (-66.1...&gt;
## 13 00976     1 Trujillo Alto    PR &lt;POINT (-66.0...&gt;
## 14 00983     7      Carolina    PR &lt;POINT (-65.9...&gt;</code></pre>
<pre class="r"><code>#plot(count_in_zips_points)

#create count_in_zips_polygons, which is the count_in_zips dataframe set as a sf to create polygons with the counts of people coming from each zip code in Puerto Rico
count_in_zips_polygons&lt;-inner_join(Buffalo_Shelter_Data, PRzips, by= c(&quot;Zip&quot; = &quot;ZCTA5CE10&quot;))%&gt;%st_as_sf()%&gt;%group_by(Zip)%&gt;%summarise(n=n())
#plot(count_in_zips_polygons)</code></pre>
</div>
</div>
<div id="income-for-puerto-rico-zip-codes" class="section level3">
<h3>Income For Puerto Rico Zip Codes</h3>
<p>Use the tidycensus package to get the household income data from the US Census Bureau (census.gov). We will download the income data for each zip code (table B19001_001E is the average household income in the past 12 months)</p>
<pre class="r"><code>IncomeZipCodeData &lt;-get_acs(geography = &quot;zcta&quot;, variables = &quot;B19001_001E&quot;)</code></pre>
<p>Join IncomeZipCodeData with PRzips to make PR zips income file</p>
<pre class="r"><code>PRzipsIncome&lt;-left_join(IncomeZipCodeData, PRzips, by= c(&quot;GEOID&quot; = &quot;ZCTA5CE10&quot;))</code></pre>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<div id="mapping-the-origin" class="section level3">
<h3>Mapping the Origin</h3>
<p>Map of locations across the United States are people originate from before becoming homeless in Western New York</p>
<pre class="r"><code>points_in_US&lt;- data.frame(count_in_zips_points_US)

#use the map package to create a map of the area of interest
xlim &lt;- c(-160, -55.5)
ylim &lt;- c(12, 50)
BuffaloCoordinates=as.matrix(geocode(&quot;Buffalo, NY&quot;))
map(&quot;world&quot;, col=&quot;#f1f1f1&quot;, fill=TRUE, bg=&quot;white&quot;, lwd=0.2, xlim=xlim, ylim=ylim)

#use geosphere package to create great circle lines between points of origin and Buffalo, NY
for (j in 1:length(points_in_US$n)) {
  inter &lt;- gcIntermediate(c(points_in_US[j,]$Longitude, points_in_US[j,]$Latitude), BuffaloCoordinates, n=100, addStartEnd=TRUE)
  
  lines(inter, col=&quot;black&quot;, lwd=0.8)
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>As we can see, there are a number of lines originating in Puerto Rico. The next section will specifically explore the phenomenon of people coming from Puerto Rico before becoming homeless in Western New York…</p>
</div>
<div id="puerto-rico-to-buffalo" class="section level3">
<h3>Puerto Rico to Buffalo</h3>
<div id="zip-code-density" class="section level4">
<h4>Zip Code Density</h4>
<p>Zoomed-in map of migration to Buffalo from Puerto Rico along great circle lines, weighted by the number from each place (darker = more people)</p>
<pre class="r"><code>points &lt;- data.frame(count_in_zips_points)

#use the map package to create a map of the area of interest
xlim &lt;- c(-90, -60)
ylim &lt;- c(18, 45)
BuffaloCoordinates=as.matrix(geocode(&quot;Buffalo, NY&quot;))</code></pre>
<pre><code>## Information from URL : http://maps.googleapis.com/maps/api/geocode/json?address=Buffalo,%20NY&amp;sensor=false</code></pre>
<pre class="r"><code>pal &lt;- colorRampPalette(c(&quot;#f2f2f2&quot;, &quot;black&quot;))
colors &lt;- pal(100)
map(&quot;world&quot;, col=&quot;#f1f1f1&quot;, fill=TRUE, bg=&quot;white&quot;, lwd=0.2, xlim=xlim, ylim=ylim)

#use geosphere package to create great circle lines between points of origin and Buffalo, NY
for (j in 1:length(points$n)) {
  inter &lt;- gcIntermediate(c(points[j,]$Longitude, points[j,]$Latitude), BuffaloCoordinates, n=100, addStartEnd=TRUE)
  
  colindex &lt;- round( (points[j,]$n / 7) * length(colors) )
  
  lines(inter, col=colors[colindex], lwd=0.8)
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Choropleth map of density (number of people coming to Buffalo from each Puerto Rican zip code)</p>
<pre class="r"><code>###use ggplot to create a choropleth map of density
ggplot(PRzips)+
  geom_sf(lwd=0.2,fill=&quot;#f0f0f0&quot;)+
  geom_sf(data=count_in_zips_polygons, aes(fill = n), col=&quot;transparent&quot;) +
  scale_fill_gradient(low = &quot;yellow&quot;, high = &quot;red&quot;)+
  labs(fill=&quot;Number People&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Map of centroid dots of location of origin; color and size indicate the number coming from that place</p>
<pre class="r"><code>#create points as data frame to use in ggplot
points &lt;- data.frame(count_in_zips_points)


#plot
ggplot(PRzips)+
  geom_sf(lwd=0.2,fill=&quot;#f0f0f0&quot;)+
  geom_point(data=points, colour=&quot;red&quot;, alpha=.7, aes(x=Longitude, y=Latitude, size=n))+
  labs(size=&quot;Number People&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="thinking-about-income" class="section level4">
<h4>Thinking about Income</h4>
<p>For fun, lets explore income of Puerto Rico by zip code.</p>
<pre class="r"><code>ggplot(PRzipsIncome)+
geom_sf(data=PRzipsIncome, aes(fill = estimate), col=&quot;transparent&quot;) +
scale_fill_gradient(low = &quot;white&quot;, high = &quot;dark green&quot;)+
labs(fill=&quot;Estimated Average Income ($)&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>This can then be overlaid with the number of people coming from each zip code.</p>
<pre class="r"><code>ggplot(PRzipsIncome)+
geom_sf(data=PRzipsIncome, aes(fill = estimate),col=&quot;transparent&quot;) +
scale_fill_gradient(low = &quot;white&quot;, high = &quot;dark green&quot;)+
  labs(fill=&quot;Estimated Average Income ($)&quot;)+
geom_point(data=points, aes(x=Longitude, y=Latitude, size=n),col=&quot;black&quot;)+
scale_size(limits = NULL, range = c(1, 3), breaks=c(1,3,7), trans = &quot;identity&quot;, guide = &quot;legend&quot;)+
labs(size=&quot;Number People&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>Looking at the final map, which overlays the number of individuals from Puerto Rican zip codes with the average household income of the zip code, I was surprised to see that there does not seem to be a strong relationship between income and the number of individuals orginating from that zip code. The total sample size of people coming from Puerto Rico was too small to run any kind of meaningful statistical regression, but a visual examination shows that the zip codes of origin were not necessarily the ones with the lowest average annual incomedata.</p>
<p>On a broader scale, this project has successfully shown where people are coming from before becoming homeless in Western New York. My experience in developing this project has also demonstrated how easy it might be to use R to visualize migration data and the origins of homeless individuals. My ultimate hope is to compare this current data set with similar data sets from other Rust Belt cities, including Cleveland, OH, and Pittsburgh, PA to see if the phenomenon of homeless individuals originating in Puerto Rico extends beyond Buffalo and the Western New York region. This project will be an invaluable tool, as the code for this project could easily be run with other data sets substituted for the Buffalo Shelter Data.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>The homelessness data set used in this project was generously provided by The Homelessness Alliance of Western New York The zip code income data was downloaded from the US Census Bureau (census.gov)</p>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
